{{- if eq .chezmoi.os "linux" -}}
#!/bin/bash

echo "Installing Packages: {{ .osid }}"

{{- $packageManager := "" -}}
{{ if (eq .osid "linux-debian" "linux-ubuntu" "linux-raspbian") -}}
{{- $packageManager := "apt-get" }}
{{- else if (eq .osid "linux-rocky" "linux-fedora" "linux-centos" "linux-redhat") -}}
{{- $packageManager := "dnf" }}
{{- else if (eq .osid "linux-arch") -}}
{{- $packageManager := "pacman" }}
{{- else if (eq .osid "linux-alpine") -}}
{{- $packageManager := "apk" }}
{{- else if (eq .osid "linux-suse") -}}
{{- $packageManager := "zypper" }}
{{- end -}}
{{ end -}}

# Update package list
sudo {{ $packageManager }} update

# Install packages
sudo {{ $packageManager }} install -y \
{{- range .packages.linux.packages }}
    {{ . }} \
{{- end }}

# Install Snaps
sudo snap install --classic \
{{- range .packages.linux.snaps }}
    {{ . }} \
{{- end }}


{{ end -}}
